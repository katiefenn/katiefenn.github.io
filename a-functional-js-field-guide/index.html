<html data-reactroot="" data-reactid="1" data-react-checksum="1324792512"><head data-reactid="2"><meta name="viewport" content="width=device-width, initial-scale=1.0" data-reactid="3"/><link href="https://fonts.googleapis.com/css?family=Lato:300,300i" rel="stylesheet" data-reactid="4"/><link rel="stylesheet" href="/assets/styles.css" data-reactid="5"/><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/5f3ee6fcdacac39bf058ce91486a9256.png" data-reactid="6"/><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/797414d3fed48ae487f725846fd7d9ce.png" data-reactid="7"/><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/8797f3ffa5c6d05e84c1566476827bda.png" data-reactid="8"/><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/8a4b26f9c023cea2d82b0335d278a181.png" data-reactid="9"/><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/9c334fc0089b97e3dafa42b8359c5100.png" data-reactid="10"/><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/63fbc377c195fa6ec88953f1634d16a5.png" data-reactid="11"/><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/a1e57357c9523878df3152aac35a2505.png" data-reactid="12"/><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/714b71cdd4ff75a68a876645dee7450e.png" data-reactid="13"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/d4483449b422b691be6aa882ba6e9bd1.png" data-reactid="14"/><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/0f0a306730b7b0ba56777996a5852e9b.png" data-reactid="15"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/44c9edf2ceed4f79fb9835eaa47fca63.png" data-reactid="16"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/2d94238307594d6066568fd29e0e4af0.png" data-reactid="17"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/0dcda9b7fa830ec49272fdfdfce6f622.png" data-reactid="18"/><link rel="manifest" href="/assets/manifest.json" data-reactid="19"/><meta name="msapplication-TileColor" content="#ffffff" data-reactid="20"/><meta name="msapplication-TileImage" content="/assets/img/a1e57357c9523878df3152aac35a2505.png" data-reactid="21"/><meta name="theme-color" content="#ffffff" data-reactid="22"/></head><body class="_body_1mvca_1" data-reactid="23"><header data-reactid="24"><a href="/" data-reactid="25"><h1 class="_main-heading_1mvca_244" data-reactid="26">Katie Fenn</h1></a></header><div class="_decoration_1mvca_37" data-reactid="27"><div data-reactid="28"><div class="_bubbles_1mvca_157" data-reactid="29"></div><div class="_bubbles2_1mvca_167 _bubbles_1mvca_157" data-reactid="30"></div><div class="_bubbles3_1mvca_173 _bubbles_1mvca_157" data-reactid="31"></div><div class="_plume1_1mvca_195" data-reactid="32"></div><div class="_plume2_1mvca_207" data-reactid="33"></div><div class="_mask_1mvca_116" data-reactid="34"></div><div class="_gradient_1mvca_135" data-reactid="35"></div><div class="_vapour1_1mvca_76" data-reactid="36"></div><div class="_shuttle_1mvca_55" data-reactid="37"></div><div class="_vapour2_1mvca_96" data-reactid="38"></div></div></div><main class="_content_1mvca_18" data-reactid="39"><div data-reactid="40"><article class="_article_1ozx9_1" data-reactroot="" data-reactid="1" data-react-checksum="-1292226153"><h2 id="a-functional-js-field-guide">A Functional JS Field Guide</h2>
<h3 id="history">History</h3>
<p>Brendan Eich created Javascript in just ten days.</p>
<p>He was told to make it like Java, the cool new programming language in 1995, but not to make it so good that it would  compete.</p>
<p>He was also told to make it easy-to-use, so that the millions of people making websites who don&#39;t understand what classes, compilers and threading are.</p>
<p>He needed to make it extensible so that experienced programmers could add features that had been left out.</p>
<p>Javascript was born in a hurry, and has suffered for it. If you wanted to make a programming language that would be popular in twenty years time you would certainly want to give yourself more than ten days. But its felxibility has seen it through twenty years of the the pressure of being the web&#39;s only programming language. It has survived the mass transit of software from desktop to mobile. It has survived its graduation from a language that people used to make things blink to a language that powers some of the most popular apps in the world.</p>
<p>Eich says himself that this is because Javascript had &quot;just enough of the good parts&quot; to survive. So what exactly are we talking about here?</p>
<h3 id="oo-vs-functional">OO vs. Functional</h3>
<p>The majority of the most widely-used languages are designed around the object-oriented programming principle, which structures data in a program like objects in the real world. Modeling complex systems such as transportation networks or commerce using software components that resemble physical properties and behaviour can make code easier to understand.</p>
<p>If the train in your computer programme is doing something that its real-life counterpart is not doing, a software component that resembles the properties and behaviour of a train makes locating and refining problems easier.</p>
<p>JavaScript has features to support object-oriented programming, but compromises had to be made to make it easy to understand and fast enough to do its job when a page is seen only for a split-second before a user &quot;surfs&quot; to the next page.</p>
<ul>
<li>Type system</li>
<li>Class-based inheritance</li>
<li>Static typing</li>
<li>Compiler</li>
</ul>
<p>Many of the &quot;advanced&quot; features of Java were forgotten for these reasons, and simpler features introduced:</p>
<ul>
<li>Duck-typing</li>
<li>Prototypal inheritance</li>
<li>Dynamic typing</li>
<li>Interpreter</li>
</ul>
<p>Developers who learn JavaScript after learning Java, Python or Ruby find the differences between it and other popular object-oriented languages disorientating. Lessons learned in writing high-quality code don&#39;t apply in the same way.</p>
<p>However, Brendan Eich was a fan of a functional language called Scheme. He originally took the job of creating JavaScript on the promise that it could be just like it, but was overruled by the need to make it look like Java to make it marketable. JavaScript was given many features from functional languages that makes  them similar:</p>
<ul>
<li>First-class functions</li>
<li>Higher-order functions</li>
<li>Lexical scoping</li>
</ul>
<p>JavaScript shares these features with quite a few functional languages. So what can we learn about JavaScript from functional programming?</p>
<h3 id="functions-">Functions!</h3>
<p>Functions in computer languages were adapted from mathematics. They describe a relationship between an input and an output. For instance, if I wanted to write a function to write the first line of &quot;ten green bottles&quot;, we can accept the number of bottles as an input and return the line as an output:</p>
<pre><code>function greenBottles (num) {
    return num + &quot; green bottles hanging on the wall&quot;;
}

greenBottles(10);

/*
Outputs:
10 green bottles hanging on the wall
*/
</code></pre><p>JavaScript has higher-order functions, which means a function can be an input or an output of another function.</p>
<p><a class="jsbin-embed" href="http://jsbin.com/japomo/embed?js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.39.16"></script></p>
<p>You may have used this to create a callback function, telling JavaScript what to do with the response when an AJAX request is complete. Congratulations! You&#39;ve already taken your first steps with functional programming.</p>
<h3 id="purity">Purity</h3>
<p>As we&#39;ve seen, functions receive inputs from their parameters, and give outputs using their return values. But functions can also have inputs and outputs that aren&#39;t immediately obvious.</p>
<p><a class="jsbin-embed" href="http://jsbin.com/japomo/embed?js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.39.16"></script></p>
<p>Here we have a function that sings &quot;row, row, row your boat&quot;. It takes the first line of the song, and says it out loud. It then waits a bit, and then repeats itself with the next line.</p>
<p>When we run it, it sings us the lines of the song.</p>
<p>Like any good campfire songs, row row row your boat is good fun to sing with your friends. What happens if we try to run &quot;sing&quot; more than once?</p>
<p><a class="jsbin-embed" href="http://jsbin.com/yukeke/embed?js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.39.18"></script></p>
<p>Hmm. That&#39;s not meant to happen. The first singer is stealing lines before the others can sing them. That doesn&#39;t happen in real life!</p>
<p>&quot;Sing&quot; uses a function called &quot;splice&quot;. &quot;Splice&quot; returns items from the array that allows us to pick out the first line of the song, but it also has a side effect. It removes items from the original array, which makes our &quot;sing&quot; function remove lines of the song as it sings them.</p>
<p>We&#39;ve written a function that is a bad citizen. It changes data that doesn&#39;t belong to it, and when it depends on that data things go wrong. We call these actions &quot;side effects&quot; - when functions change data outside of their own scope.</p>
<p><a class="jsbin-embed" href="http://jsbin.com/gexeta/embed?js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.39.15"></script></p>
<p>I&#39;ve fixed the &quot;sing&quot; function to read the lines of the song using a parameter, and use &quot;slice&quot; instead of &quot;splice&quot; which does not remove items from the original array. When we run our program again, all the lines should be sung as we&#39;d expect.</p>
<p>Writing functions to work with their parameter inputs and their return outputs means they will always return the same output when given the same input and have no side effects. This is called &quot;purity&quot; by programmers because they are like functions in mathematics, but their benefits are easy to understand:</p>
<ul>
<li>Pure functions are easier to understand <em>(by breaking behaviour into simpler input and output)</em></li>
<li>Pure functions are testable <em>(because they always give the same output for a given input)</em></li>
<li>Pure functions are flexible <em>(because they have no state of their own they can be used in any part of your code, even back and front-end)</em></li>
</ul>
<h3 id="currying">Currying</h3>
<p>The ability of functions to return other functions gives you some amazing abilities. It allows you to prepare functions with settings for later use, or fuse two functions together to do two things at once.</p>
<p>Let&#39;s look at a song called Old MacDonald Had a Farm. It goes like this:</p>
<pre><code>var song = [
    &#39;Old McDonald had a farm&#39;,
    &#39;E I E I O&#39;,
    &#39;And on that farm he had a cow&#39;,
    &#39;E I E I O&#39;,
    &#39;With a moo moo here&#39;,
    &#39;And a moo moo there&#39;,
    &#39;Here a moo&#39;,
    &#39;There a moo&#39;,
    &#39;Everywhere a moo moo&#39;
];
</code></pre><p>What if we wanted to sing the next verse with a dog instead of a cow? Let&#39;s write a special function called a curried function to do that for us.</p>
<p><a class="jsbin-embed" href="http://jsbin.com/jocupow/embed?js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.39.18"></script></p>
<p>Currying allows you to write a function that called in two stages. You call the function the first time to pre-load some settings for later. It then returns a function that can be called later to perform an action. It&#39;s really helpful when  iterating over data and changing it - like changing words in a song.</p>
<p><a class="jsbin-embed" href="http://jsbin.com/pexaji/embed?js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.39.18"></script></p>
<p>When we call the function the first time, the settings we give it are saved for later. It doesn&#39;t replace anything right away.</p>
<p>When we pass it into map to iterate over the lines of the song, the second part of the function leaps into action and replaces the words using the settings we saved earlier.</p>
<pre><code>0: &quot;Old McDonald had a farm&quot;
1: &quot;E I E I O&quot;
2: &quot;And on that farm he had a dog&quot;
3: &quot;E I E I O&quot;
4: &quot;With a moo moo here&quot;
5: &quot;And a moo moo there&quot;
6: &quot;Here a moo&quot;
7: &quot;There a moo&quot;
8: &quot;Everywhere a moo moo&quot;
</code></pre><h3 id="composition">Composition</h3>
<p>Oops. Dogs don&#39;t say moo. What we need is a function that replaces &quot;cow&quot; with &quot;dog&quot;, and &quot;moo&quot; with &quot;bark&quot;. Luckily, it&#39;s quite easy to compose a function out of two other functions.</p>
<pre><code>function compose(first, second) {
    return function(subject) {
        return second(first(subject));
    }
}
</code></pre><p>This is a curried function that takes two functions as settings, and returns a function for later use that combines them both. This would allow us to compose a single function that replaced both the name of the animal, and the sound it makes without writing a new function especially to do that.</p>
<p><a class="jsbin-embed" href="http://jsbin.com/mexikos/embed?js,output">JS Bin on jsbin.com</a><script src="http://static.jsbin.com/js/embed.min.js?3.39.18"></script></p>
<p>Now if we run iterate over the lines of the song using this new function, we should see the correct result.</p>
<pre><code>0: &quot;Old McDonald had a farm&quot;
1: &quot;E I E I O&quot;
2: &quot;And on that farm he had a dog&quot;
3: &quot;E I E I O&quot;
4: &quot;With a woof woof here&quot;
5: &quot;And a woof woof there&quot;
6: &quot;Here a bark&quot;
7: &quot;There a bark&quot;
8: &quot;Everywhere a bark bark&quot;
</code></pre><h3 id="bringing-it-together">Bringing it together</h3>
<p>Functional programming does more than just making JavaScript easier to work with. What is our code capable of if we apply these ideas on a larger scale?</p>
<p>Let&#39;s take a look at React and Elm. React is a JavaScript framework created by Facebook. Elm is a new functional language that compiles to JavaScript. What makes them remarkable is how they&#39;re using functional programming to change the way we make software.</p>
<p>Purity is employed on an architectural level. Instead of keeping state in objects passing messages between each-other, all application state is stored in a single place. This allows you to write the majority of your application code as pure functions that describe how its state changes.</p>
<p>Keeping application code and state separate gives you some special abilities.</p>
<p><a href="http://debug.elm-lang.org/edit/Mario.elm">Super Mario demo</a></p>
<p>This is Super Mario technical demo written in Elm, and you can find it on the Elm website. You can move around an jump just like a normal platformer game. But because application state is stored in one place, it&#39;s possible to store its history and &quot;rewind&quot; and &quot;fast forward&quot;. That means you can replay actions again and again and again, which we do so often when debugging code. Long procedures for recreating bugs and testing code is reduced to the click of a button.</p>
<p>You can also make changes to your code without it affecting its state. For instance, I can change the code and increase the height Mario can jump without restarting the application. It just carries on from where it left off. This allows me to experiment with my code to fix bugs and test changes while my application is running, and saves a lot of time.</p>
<h3 id="benefits">Benefits</h3>
<p>Using fundamental lessons from functional programming in your JavaScript code takes advantage of its better features, and there&#39;s plenty more that you can learn from functional languages that you can apply to your everyday work.</p>
<p>More than this, I think it makes sense for the kind of work we do. As frontend developers, our work commonly breaks down to the same three tasks:</p>
<ul>
<li>React to user interraction</li>
<li>Process transactions with the network, state and storage</li>
<li>Manipulate the DOM</li>
</ul>
<p>I think functional programming perfectly suits these tasks because our work is dominated by responding to user interraction.</p>
<p>That&#39;s not to say object orientation should be retired, or had its day. In fact, JavaScript should be praised for offering the ability to use both methodologies. Object orientation was conceived to model complex interactions between system components. This makes it relevant for work like making videogames in JavaScript. Simulating worlds with people, places and things suits object oriented programming well.</p>
<p>Functional programming is an exciting prospect for the future of computing beyond frontend development.</p>
<p>Modern computer hardware incorporates chips with multiple processing cores allowing them to do two pieces of work at once. This is because chip manufacturers like Intel are reaching the physical limits of our ability to make computer chips. In the sense that &quot;a problem shared is a problem halved&quot;, making our code work well in parallel is going to be an important topic for the future of software.</p>
<p>As we saw with the &quot;row, row, row your boat&quot; example, splitting data between multiple processes can be surprisingly hard. Functional programming gives us useful tools to tackle this incredibly difficult problem we are expecting to face more and more in the future.</p>
<p>In the present, it allows you to</p>
<h3 id="going-further">Going Further</h3>
<p>There are a few more things you might want to look into once you&#39;ve taken your first steps with functional programming.</p>
<p>Immutable.JS is another Facebook tool that adapts ideas from other functional languages. It gives you data structures like JavaScript&#39;s arrays and objects whose items cannot be modified. Changes can only be made by making a new copies of data. This makes unexpected side effects harder to introduce.</p>
<p>If you&#39;re determined to go all-in on a new functional language entirely, there are lots of popular functional languages that can be compiled to work in web browsers.</p>
<ul>
<li><a href="http://clojure.org/">ClojureScript</a></li>
<li><a href="http://elm-lang.org/">Elm</a></li>
<li><a href="http://www.scala-lang.org/">Scala</a></li>
</ul>
<p>There&#39;s also a great book called <a href="https://github.com/MostlyAdequate/mostly-adequate-guide">Professor Frisby&#39;s Mostly Adequate Guide to Functional Programming</a> which covers everything I&#39;ve mentioned and more, in great detail.</p>
<h3 id="summary">Summary</h3>
<p>JavaScript was written in just ten days, and it suffers with a reputation among programmers to this day that it is a bit pants.</p>
<p>But that isn&#39;t entirely true. Hidden from the first glance is a powerful and expressive functional language.</p>
<p>Using techniques from functional programming can help you make fuller use of JavaScript, make your code easier to understand and test.</p>
</article></div></main><aside class="_profile_1mvca_278" data-reactid="41"><h2 data-reactid="42">Profile</h2><p data-reactid="43"><div class="_profilePhotoContainer_1mvca_312" data-reactid="44"><img src="/assets/img/05251121f41ec65a69a7c86fa54393aa.jpg" alt="Katie Fenn" class="_profilePhoto_1mvca_312" data-reactid="45"/><div class="_overlay_1mvca_320" data-reactid="46"></div></div></p><h3 data-reactid="47">Work</h3><p data-reactid="48"><!-- react-text: 49 -->Software Engineer at <!-- /react-text --><a href="https://www.npmjs.com/" data-reactid="50">npm, inc</a></p><h4 data-reactid="51">Formerly:</h4><ul class="_cv_1mvca_289" data-reactid="52"><li data-reactid="53"><a href="https://inviqa.com/" data-reactid="54">Inviqa</a></li><li data-reactid="55"><a href="https://skybetcareers.com/our-locations/sheffield" data-reactid="56">SkyBet</a></li><li data-reactid="57"><a href="https://www.canonical.com/" data-reactid="58">Canonical</a></li></ul><h3 data-reactid="59">Upcoming talks</h3><ul class="_talks_1mvca_307" data-reactid="60"><li data-reactid="61"><a href="http://scotlandjs.com" data-reactid="62">Scotland JS</a><!-- react-text: 63 --> July 2018<!-- /react-text --></li></ul></aside></body></html>